(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(4),i=a.n(s),r=(a(11),a(2)),l=a.p+"static/media/heade-logo.4e8e0a1d.svg",o=a(0);function d(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsx)("img",{src:l,alt:"header logo",className:"header__logo"})})}var m=a(5),u=a(6),j=function(e,t){return fetch(e,t).then((function(e){if(e.ok)return e.json();Promise.reject("Error: ".concat(e.status))}))},_=new(function(){function e(t,a){Object(m.a)(this,e),this._baseUrl=t,this._headers=a}return Object(u.a)(e,[{key:"getInitialCards",value:function(){return j("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"getUserInfo",value:function(){return j("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"createCard",value:function(e){return j("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}},{key:"updateProfile",value:function(e){return j("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.input_name,about:e.input_job})})}},{key:"deleteCard",value:function(e){return j("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"likeCard",value:function(e){return j("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}},{key:"deleteLike",value:function(e){return j("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"changeAvatar",value:function(e){return j("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})})}}]),e}())("https://around.nomoreparties.co/v1/group-12",{authorization:"58a0c9dd-0104-421e-8188-69fa2ff9ad79","Content-Type":"application/json"});function b(e){return Object(o.jsxs)("li",{className:"elements__card",children:[Object(o.jsx)("button",{"aria-label":"delete",type:"button",className:"elements__card-delete"}),Object(o.jsx)("div",{className:"elements__card-image",style:{backgroundImage:" url(".concat(e.card.link,")")},onClick:function(){e.onCardClick(e.card)}}),Object(o.jsxs)("div",{className:"elements__card-info",children:[Object(o.jsx)("h2",{className:"elements__card-title",children:e.card.name}),Object(o.jsxs)("div",{className:"elements__card-like-counter",children:[Object(o.jsx)("button",{"aria-label":"like",type:"button",className:"elements__card-button"}),Object(o.jsx)("span",{className:"elements__card-likes",children:e.card.likes.length})]})]})]})}function h(e){var t=c.a.useState(""),a=Object(r.a)(t,2),n=a[0],s=a[1],i=c.a.useState(""),l=Object(r.a)(i,2),d=l[0],m=l[1],u=c.a.useState(""),j=Object(r.a)(u,2),h=j[0],p=j[1],f=c.a.useState([]),O=Object(r.a)(f,2),x=O[0],k=O[1];return c.a.useEffect((function(){_.getUserInfo().then((function(e){s(e.name),m(e.about),p(e.avatar)})).catch(console.log)}),[]),c.a.useEffect((function(){_.getInitialCards().then((function(e){k(e)})).catch(console.log)}),[]),Object(o.jsxs)("main",{className:"content",children:[Object(o.jsxs)("section",{className:"profile",children:[Object(o.jsx)("div",{className:"profile__image",style:{backgroundImage:"url(".concat(h,")")},children:Object(o.jsx)("button",{"aria-label":"avatar",type:"button",className:"profile__image-button",onClick:e.onEditAvatarClick})}),Object(o.jsxs)("div",{className:"profile__description",children:[Object(o.jsx)("h1",{className:"profile__name",children:n}),Object(o.jsx)("button",{"aria-label":"like",type:"button",className:"profile__edit-button",onClick:e.onEditProfileClick}),Object(o.jsx)("p",{className:"profile__job",children:d})]}),Object(o.jsx)("button",{"aria-label":"like",type:"button",className:"profile__add-button",onClick:e.onAddPlaceClick})]}),Object(o.jsx)("section",{className:"elements",children:Object(o.jsx)("ul",{className:"elements__list",children:x.map((function(t){return Object(o.jsx)(b,{onCardClick:e.onCardClick,card:t},t._id)}))})})]})}function p(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("p",{className:"footer__copyrights",children:"\xa9 2021 Around The U.S"})})}function f(e){return Object(o.jsx)("div",{className:"modal modal_type_".concat(e.name," ").concat(e.isOpen?"modal_open":""),children:Object(o.jsxs)("div",{className:"modal__container",children:[Object(o.jsx)("button",{onClick:e.onClose,"aria-label":"close",type:"button",className:"modal__close-button"}),Object(o.jsxs)("form",{name:e.name,action:"#",className:"modal__form",children:[Object(o.jsx)("h2",{className:"modal__title",children:e.title}),e.children,Object(o.jsx)("button",{type:"submit",className:"modal__form-button",children:e.buttonText})]})]})})}function O(e){return Object(o.jsx)("div",{className:"modal modal_type_".concat(e.name," ").concat(e.card.name?"modal_open":""),children:Object(o.jsxs)("div",{className:"modal__container modal__container_type_".concat(e.name),children:[Object(o.jsx)("button",{onClick:e.onClose,"aria-label":"close",type:"button",className:"modal__close-button"}),Object(o.jsxs)("figure",{className:"modal__figure",children:[Object(o.jsx)("img",{className:"modal__image",src:e.card.link,alt:e.card.name}),Object(o.jsx)("figcaption",{className:"modal__caption",children:e.card.name})]})]})})}var x=function(){var e=c.a.useState(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!1),i=Object(r.a)(s,2),l=i[0],m=i[1],u=c.a.useState(!1),j=Object(r.a)(u,2),_=j[0],b=j[1],x=c.a.useState({name:"",link:""}),k=Object(r.a)(x,2),N=k[0],g=k[1];function v(){b(!1),n(!1),m(!1),g({title:"",link:""})}return Object(o.jsx)("div",{className:"page",children:Object(o.jsxs)("div",{className:"page__wrapper",children:[Object(o.jsx)(d,{}),Object(o.jsx)(h,{onEditProfileClick:function(){n(!0)},onAddPlaceClick:function(){m(!0)},onEditAvatarClick:function(){b(!0)},onCardClick:function(e){g({name:e.name,link:e.link})}}),Object(o.jsx)(p,{}),Object(o.jsxs)("div",{children:[Object(o.jsxs)(f,{onClose:v,isOpen:a,name:"edit",title:"Edit Profile",buttonText:"Save",children:[Object(o.jsx)("input",{id:"name-input",name:"input_name",type:"text",className:"modal__form-input modal__form-input_mod_name",placeholder:"Name",required:!0,minLength:"2",maxLength:"40"}),Object(o.jsx)("span",{className:"modal__input-error",id:"name-input-error"}),Object(o.jsx)("input",{id:"job-input",name:"input_job",type:"text",className:"modal__form-input modal__form-input_mod_job",placeholder:"Job",required:!0,minLength:"2",maxLength:"200"}),Object(o.jsx)("span",{id:"job-input-error",className:"modal__input-error"})]}),Object(o.jsxs)(f,{onClose:v,isOpen:l,name:"add",title:"New Place",buttonText:"Save",children:[Object(o.jsx)("input",{id:"title-input",name:"name",type:"text",className:"modal__form-input modal__form-input_mod_title",placeholder:"Title",required:!0,minLength:"1",maxLength:"30"}),Object(o.jsx)("span",{id:"title-input-error",className:"modal__input-error",children:" "}),Object(o.jsx)("input",{id:"link-input",name:"link",type:"url",className:"modal__form-input modal__form-input_mod_image",placeholder:"Image link",required:!0}),Object(o.jsx)("span",{id:"link-input-error",className:"modal__input-error"})]}),Object(o.jsxs)(f,{onClose:v,isOpen:_,name:"avatar",title:"Change profile picture",buttonText:"Save",children:[Object(o.jsx)("input",{id:"avatar-input",name:"link",type:"url",className:"modal__form-input modal__form-input_mod_avatar",placeholder:"Avatar link",required:!0}),Object(o.jsx)("span",{id:"avatar-input-error",className:"modal__input-error"})]}),Object(o.jsxs)(f,{onClose:v,name:"delete-card",title:"Are You Sure?",buttonText:"Yes",children:[Object(o.jsx)("input",{id:"avatar-input",name:"link",type:"url",className:"modal__form-input modal__form-input_mod_avatar",placeholder:"Avatar link",required:!0}),Object(o.jsx)("span",{id:"avatar-input-error",className:"modal__input-error"})]}),Object(o.jsx)(O,{card:N,onClose:v,name:"image"})]})]})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),k()}},[[13,1,2]]]);
//# sourceMappingURL=main.d9bf608f.chunk.js.map